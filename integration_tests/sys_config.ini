[agg_shards]
transactions = 1
transaction_items = 1
users = 1

[filters]
workers = 1
routers = 1

[aggregators]
workers = 1

[joiners]
workers = 1
routers = 1

[results]
workers = 1
routers = 1

[broker]
host = rabbitmq
port = 5672
username = guest
password = guest
vhost = /
management_port = 15672

[queues]
prefetch_count = 10
durable = true

[joiner_shards]
transactions = 1
transaction_items = 1
users = 1
menu_items = 1
stores = 1

[names]
orch_to_fr_exchange = fr.ex
orch_to_fr_rk_fmt = fr.{pid:02d}
orch_to_fr_queue_fmt = fr.in.{pid:02d}
filters_pool_queue = filter.workers.pool
filter_router_exchange_fmt = ex.{table}
filter_router_rk_fmt = agg.{table}.{pid:02d}
aggregator_queue_fmt = agg.{table}.{pid:02d}
aggregator_to_joiner_router_queue_fmt = aggr.out.{table}.p{pid:02d}.r{replica:02d}
results_controller_queue = results.controller.in
rc_to_orch_queue = results.controller.out
orchestrator_input_queue = orchestrator.in
joiner_router_exchange_fmt = jx.{table}
joiner_router_rk_fmt       = join.{table}.shard.{shard:02d}
joiner_queue_fmt           = join.{table}.shard.{shard:02d}
