[agg_shards]
transactions = 4
transaction_items = 4
users = 4

[filters]
workers = 4

[aggregators]
workers = 4

[joiners]
workers = 5

[broker]
host = rabbitmq
port = 5672
username = guest
password = guest
vhost = /
management_port = 15672

[queues]
prefetch_count = 10
durable = true

[joiner_shards]
transactions = 5
transaction_items = 5
users = 5
menu_items = 5
stores = 5

[names]
orch_to_fr_queue = filter.router.in
filters_pool_queue = filter.workers.pool
filter_router_exchange_fmt = ex.{table}
filter_router_rk_fmt = agg.{table}.{pid:02d}
aggregator_queue_fmt = agg.{table}.{pid:02d}
aggregator_to_joiner_router_queue_fmt = aggr.out.{table}.p{pid:02d}
results_controller_queue = results.controller.in
rc_to_orch_queue = results.controller.out
orchestrator_input_queue = orchestrator.in
joiner_router_exchange_fmt = jx.{table}
joiner_router_rk_fmt       = join.{table}.shard.{shard:02d}
joiner_queue_fmt           = join.{table}.shard.{shard:02d}

[batches]
max_lines = 10000
max_kB = 4096
